{"version":3,"file":"static/js/main.f7dd3332.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","index.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"],"sourcesContent":["export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  };\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","// This will use the demo backend if you open index.html locally via file://, otherwise your server will be used\nlet backendUrl = location.protocol === 'file:' ? \"https://tiktok-chat-reader.zerody.one/\" : undefined;\nlet connection = new TikTokIOConnection(backendUrl);\nconst chatContainer = document.getElementById('chatContainer');\nconst playButton = document.getElementById('playButton');\n// Counter\n\nlet viewerCount = 0;\nlet likeCount = 0;\nlet diamondsCount = 0;\nlet previousLikeCount = 0;\n\n// These settings are defined by obs.html\nif (!window.settings) window.settings = {};\n\n$(document).ready(() => {\n    $('#connectButton').click(connect);\n    $('#uniqueIdInput').on('keyup', function(e) {\n        if (e.key === 'Enter') {\n            connect();\n        }\n    });\n\n    if (window.settings.username) connect();\n})\n\nfunction connect() {\n    let uniqueId = window.settings.username || $('#uniqueIdInput').val();\n    if (uniqueId !== '') {\n\n        $('#stateText').text('Conectando...');\n\n        connection.connect(uniqueId, {\n            enableExtendedGiftInfo: true\n        }).then(state => {\n            $('#stateText').text(`Conectado a la sala ${state.roomId}`);\n\n            // resetear estadísticas\n            viewerCount = 0;\n            likeCount = 0;\n            diamondsCount = 0;\n            updateRoomStats();\n\n        }).catch(errorMessage => {\n            $('#stateText').text(errorMessage);\n\n            // programar próximo intento si se establece el nombre de usuario obs\n            if (window.settings.username) {\n                setTimeout(() => {\n                    connect(window.settings.username);\n                }, 30000);\n            }\n        })\n\n    } else {\n        alert('no se ingresó nombre de usuario');\n    }\n}\n\n\n// Prevent Cross site scripting (XSS)\nfunction sanitize(text) {\n    return text.replace(/</g, '&lt;')\n}\n\nfunction updateRoomStats() {\n    $('#roomStats').html(`Espectadores: <b>${viewerCount.toLocaleString()}</b> Likes: <b>${likeCount.toLocaleString()}</b> Diamantes: <b>${diamondsCount.toLocaleString()}</b>`)\n}\n\nfunction generateUsernameLink(data) {\n    return `<a class=\"usernamelink\" href=\"https://www.tiktok.com/@${data.uniqueId}\" target=\"_blank\">${data.uniqueId}</a>`;\n}\n\nfunction isPendingStreak(data) {\n    return data.giftType === 1 && !data.repeatEnd;\n}\n\n/**\n * Add a new message to the chat container\n */\nfunction addChatItem(color, data, text, summarize) {\n    let container = location.href.includes('obs.html') ? $('.eventcontainer') : $('.chatcontainer');\n\n    if (container.find('div').length > 500) {\n        container.find('div').slice(0, 200).remove();\n    }\n\n    container.find('.temporary').remove();;\n\n    container.append(`\n    <div class=${summarize ? 'temporary' : 'static'}>\n      <img class=\"miniprofilepicture\" src=\"${data.profilePictureUrl}\">\n      <span>\n        <b>${generateUsernameLink(data)}:</b>\n        <span style=\"color:${color}\">${sanitize(text)}</span>\n      </span>\n    </div>\n  `);\n\n    const specialChars = /[@#$%^&*()/,.?\":{}|<>]/;\n    const startsWithSpecialChar = specialChars.test(text.charAt(0));\n    const messagePrefix = startsWithSpecialChar ? \"!\" : \"\";\n    const messageSuffix = summarize ? \"\" : ` ${text}`;\n\n    // Modificación para eliminar o reemplazar los caracteres especiales\n    let cleanedText = text;\n    if (startsWithSpecialChar) {\n        cleanedText = text.replace(/[@#$%^&*()/,.?\":{}|<>]/, \"\"); // Elimina o reemplaza los caracteres especiales al comienzo del texto con \"!\"\n    }\n\n    const message = messagePrefix + (cleanedText.length > 50 ? `${data.uniqueId} dice ${messageSuffix}` : cleanedText);\n\n    enviarMensaje(message);\n\n    container.stop();\n    container.animate({\n        scrollTop: container[0].scrollHeight\n    }, 400);\n    leerMensajes(text);\n    cacheMessage(text);\n}\n// Resto del código...\n/** ID[${data.giftId}] id regalo\n * Agregar un nuevo regalo al contenedor de regalos\n */\nconst downloadedGifts = new Set();\n\nfunction downloadImage(url, filename) {\n    fetch(url)\n        .then((response) => response.blob())\n        .then((blob) => {\n            const url = window.URL.createObjectURL(blob);\n            const a = document.createElement(\"a\");\n            a.href = url;\n            a.download = filename;\n            a.click();\n            window.URL.revokeObjectURL(url);\n\n            // Agregar el nombre del regalo descargado al conjunto\n            downloadedGifts.add(filename);\n        })\n        .catch((error) => {\n            console.error(\"Error al descargar la imagen:\", error);\n        });\n}\n\nfunction addGiftItem(data) {\n    let container = location.href.includes('obs.html') ? $('.eventcontainer') : $('.giftcontainer');\n\n    if (container.find('div').length > 200) {\n        container.find('div').slice(0, 100).remove();\n    }\n\n    let streakId = data.userId.toString() + '_' + data.giftId;\n\n    let html = `\n      <div data-streakid=${isPendingStreak(data) ? streakId : ''}>\n          <img class=\"miniprofilepicture\" src=\"${data.profilePictureUrl}\">\n          <span>\n              <b>${generateUsernameLink(data)}:</b> <span><span style=\"color: ${data.giftName ? 'purple' : 'black'}\">${data.giftName}</span></span></span><br>\n              <div>\n                  <table>\n                      <tr>\n                          <td><img class=\"gifticon\" src=\"${data.giftPictureUrl}\"></td>\n                          <td>\n                              <span><b style=\"${isPendingStreak(data) ? 'color:red' : ''}\">x${data.repeatCount.toLocaleString()} : ${(data.diamondCount * data.repeatCount).toLocaleString()} Diamantes </b><span><br>\n                          </td>\n                      </tr>\n                  </tabl>\n              </div>\n          </span>\n      </div>\n  `;\n\n    let existingStreakItem = container.find(`[data-streakid='${streakId}']`);\n\n    if (existingStreakItem.length) {\n        existingStreakItem.replaceWith(html);\n    } else {\n        container.append(html);\n    }\n    const giftImageFilename = `assets/${data.giftName.replace(/\\s/g, '_')}.png`;\n\n    // Verificar si el regalo ya ha sido descargado\n    if (!downloadedGifts.has(giftImageFilename)) {\n        // Descargar y guardar la imagen del regalo en la carpeta \"assets\"\n        downloadImage(data.giftPictureUrl, giftImageFilename);\n    }\n    enviarMensaje(data.giftName, \"\");\n\n    container.stop();\n    container.animate({\n        scrollTop: container[0].scrollHeight\n    }, 800);\n}\n\n// viewer stats\nconnection.on('roomUser', (msg) => {\n    if (typeof msg.viewerCount === 'number') {\n        viewerCount = msg.viewerCount;\n        updateRoomStats();\n    }\n})\n\n// like stats\nconnection.on('like', (msg) => {\n    if (typeof msg.totalLikeCount === 'number') {\n        likeCount = msg.totalLikeCount;\n        updateRoomStats();\n\n        // Check if the like count has reached a multiple of 10, 100, 1000, etc.\n        if (likeCount % 500 === 0 && likeCount !== previousLikeCount) {\n            previousLikeCount = likeCount;\n            const likeMessage = `${likeCount} likes.`;\n            enviarMensaje(likeMessage);\n        }\n    }\n})\n\n// Member join\nlet joinMsgDelay = 0;\nconnection.on('member', (msg) => {\n    if (window.settings.showJoins === \"0\") return;\n\n    let addDelay = 250;\n    if (joinMsgDelay > 500) addDelay = 100;\n    if (joinMsgDelay > 1000) addDelay = 0;\n\n    joinMsgDelay += addDelay;\n\n    setTimeout(() => {\n        joinMsgDelay -= addDelay;\n        addChatItem('#CDA434', msg, 'welcome', true);\n    }, joinMsgDelay);\n})\n\n// New chat comment received\nconnection.on('chat', (msg) => {\n    if (window.settings.showChats === \"0\") return;\n\n    addChatItem('', msg, msg.comment);\n})\n\n// New gift received\nconnection.on('gift', (data) => {\n    if (!isPendingStreak(data) && data.diamondCount > 0) {\n        diamondsCount += (data.diamondCount * data.repeatCount);\n        updateRoomStats();\n    }\n\n    if (window.settings.showGifts === \"0\") return;\n\n    addGiftItem(data);\n    console.log(data);\n})\n\n// share, follow\nconnection.on('social', (data) => {\n    if (window.settings.showFollows === \"0\") return;\n\n    let color = data.displayType.includes('follow') ? '#CDA434' : '##CDA434';\n    if (data.displayType.includes('follow')) {\n        data.label = `${data.uniqueId} Te sigue`;\n    }\n\n    addChatItem(color, data, data.label.replace('{0:user}', ''));\n})\n\nconnection.on('streamEnd', () => {\n    $('#stateText').text('Transmisión terminada.');\n\n    // schedule next try if obs username set\n    if (window.settings.username) {\n        setTimeout(() => {\n            connect(window.settings.username);\n        }, 30000);\n    }\n})\nlet mensajes = [];\nlet lastComment = '';\nlet lastCommentTime = 0;\nconst filterTime = 5000; // 5 segundos en milisegundos\nconst palabrasSpam = ['join', 'joined', 'shared', 'the lived', 'gemidos', 'gemi2', 'remix', 'itler', 'nulk studios', 'welcome'];\n\nfunction contienePalabrasSpam(message) {\n    const lowerCaseMessage = message.toLowerCase();\n    for (const palabra of palabrasSpam) {\n        if (lowerCaseMessage.includes(palabra)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction enviarMensaje(message, isGift = false) {\n    const lowerCaseMessage = message.toLowerCase();\n    const currentTime = Date.now();\n    if (message !== lastComment || (currentTime - lastCommentTime) > filterTime) {\n        if (message === lastComment) {\n            return; // No enviar mensaje si es igual al mensaje anterior\n        }\n        if (contienePalabrasSpam(lowerCaseMessage)) {\n            console.log('Mensaje filtrado:', message);\n            return; // No enviar mensaje\n        }\n        mensajes.push(message);\n        console.log('Mensaje enviado:', message);\n\n        const chat_message = {\n            \"Message\": message,\n            \"Platform\": \"Twitch\",\n            \"SendAsStreamer\": true\n        };\n        fetch(\"http://localhost:8911/api/v2/chat/message\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(chat_message)\n            })\n            .then(function(response) {\n                if (response.ok) {\n                    // La solicitud se realizó correctamente\n                    // Hacer algo con la respuesta si es necesario\n                }\n            })\n            .catch(function(error) {\n                console.error('Error al enviar el mensaje');\n            });\n\n        lastComment = message;\n        lastCommentTime = currentTime;\n    }\n    connection.on('chat', (msg) => {\n        if (msg.Platform === 'Twitch' && !msg.SendAsStreamer) {\n            console.log('Mensaje recibido:', msg.Message);\n        }\n    });\n}\nvar audio, chatbox, button, channelInput, audioqueue, isPlaying, add, client, skip;\n\nconst TTS_API_ENDPOINT = 'https://api.streamelements.com/kappa/v2/speech?'; // unprotected API - use with caution\nconst PRONOUN_API_ENDPOINT = 'https://pronouns.alejo.io/api/users/';\nconst maxMsgInChat = 2 * 10;\nconst DESCENDING = true; // newest on top\nconst VOICE_PREFIX = '&';\nconst pronoun_DB = {}; // username -> pronound_id\nconst FEM_PRONOUNS = ['sheher', 'shethey'];\nvar CHANNEL_BLACKLIST = [\n    'streamlabs',\n    'streamelements',\n    'moobot',\n    'nightbot',\n    'ch4tsworld',\n    'streamstickers',\n    'laia_bot',\n    'soundalerts',\n    'ankhbot',\n    'phantombot',\n    'wizebot',\n    'botisimo',\n    'coebot',\n    'deepbot',\n];\nvar VOICE_LIST = {\n    \"Miguel (Spanish, American)\": \"Miguel\",\n    \"Penélope (Spanish, American)\": \"Penelope\",\n    \"Brian (English, British)\": \"Brian\",\n    \"Amy (English, British)\": \"Amy\",\n    \"Emma (English, British)\": \"Emma\",\n    \"Geraint (English, Welsh)\": \"Geraint\",\n    \"Russell (English, Australian)\": \"Russell\",\n    \"Nicole (English, Australian)\": \"Nicole\",\n    \"Joey (English, American)\": \"Joey\",\n    \"Justin (English, American)\": \"Justin\",\n    \"Matthew (English, American)\": \"Matthew\",\n    \"Ivy (English, American)\": \"Ivy\",\n    \"Joanna (English, American)\": \"Joanna\",\n    \"Kendra (English, American)\": \"Kendra\",\n    \"Kimberly (English, American)\": \"Kimberly\",\n    \"Salli (English, American)\": \"Salli\",\n    \"Raveena (English, Indian)\": \"Raveena\",\n    \"Zhiyu (Chinese, Mandarin)\": \"Zhiyu\",\n    \"Mads (Danish)\": \"Mads\",\n    \"Naja (Danish)\": \"Naja\",\n    \"Ruben (Dutch)\": \"Ruben\",\n    \"Lotte (Polly) (Dutch)\": \"Lotte\",\n    \"Mathieu (French)\": \"Mathieu\",\n    \"Céline (French)\": \"Celine\",\n    \"Chantal (French, Canadian)\": \"Chantal\",\n    \"Hans (German)\": \"Hans\",\n    \"Marlene (German)\": \"Marlene\",\n    \"Vicki (German)\": \"Vicki\",\n    \"Aditi (+English) (Hindi)\": \"Aditi\",\n    \"Karl (Icelandic)\": \"Karl\",\n    \"Dóra (Icelandic)\": \"Dora\",\n    \"Carla (Italian)\": \"Carla\",\n    \"Bianca (Italian)\": \"Bianca\",\n    \"Giorgio (Italian)\": \"Giorgio\",\n    \"Takumi (Japanese)\": \"Takumi\",\n    \"Mizuki (Japanese)\": \"Mizuki\",\n    \"Seoyeon (Korean)\": \"Seoyeon\",\n    \"Liv (Norwegian)\": \"Liv\",\n    \"Ewa (Polish)\": \"Ewa\",\n    \"Maja (Polish)\": \"Maja\",\n    \"Jacek (Polish)\": \"Jacek\",\n    \"Jan (Polish)\": \"Jan\",\n    \"Ricardo (Portuguese, Brazilian)\": \"Ricardo\",\n    \"Vitória (Portuguese, Brazilian)\": \"Vitoria\",\n    \"Cristiano (Portuguese, European)\": \"Cristiano\",\n    \"Inês (Portuguese, European)\": \"Ines\",\n    \"Carmen (Romanian)\": \"Carmen\",\n    \"Maxim (Russian)\": \"Maxim\",\n    \"Tatyana (Russian)\": \"Tatyana\",\n    \"Enrique (Spanish, European)\": \"Enrique\",\n    \"Conchita (Spanish, European)\": \"Conchita\",\n    \"Mia (Spanish, Mexican)\": \"Mia\",\n    \"Astrid (Swedish)\": \"Astrid\",\n    \"Filiz (Turkish)\": \"Filiz\",\n    \"Gwyneth (Welsh)\": \"Gwyneth\",\n    \"Carter (English, American)\": \"en-US-Wavenet-A\",\n    \"Paul (English, American)\": \"en-US-Wavenet-B\",\n    \"Evelyn (English, American)\": \"en-US-Wavenet-C\",\n    \"Liam (English, American)\": \"en-US-Wavenet-D\",\n    \"Jasmine (English, American)\": \"en-US-Wavenet-E\",\n    \"Madison (English, American)\": \"en-US-Wavenet-F\",\n    \"Mark (English, American)\": \"en-US-Standard-B\",\n    \"Vanessa (English, American)\": \"en-US-Standard-C\",\n    \"Zachary (English, American)\": \"en-US-Standard-D\",\n    \"Audrey (English, American)\": \"en-US-Standard-E\",\n    \"Layla (English, British)\": \"en-GB-Standard-A\",\n    \"Ali (English, British)\": \"en-GB-Standard-B\",\n    \"Scarlett (English, British)\": \"en-GB-Standard-C\",\n    \"Oliver (English, British)\": \"en-GB-Standard-D\",\n    \"Bella (English, British)\": \"en-GB-Wavenet-A\",\n    \"John (English, British)\": \"en-GB-Wavenet-B\",\n    \"Victoria (English, British)\": \"en-GB-Wavenet-C\",\n    \"Ron (English, British)\": \"en-GB-Wavenet-D\",\n    \"Zoe (English, Australian)\": \"en-AU-Standard-A\",\n    \"Luke (English, Australian)\": \"en-AU-Standard-B\",\n    \"Samantha (English, Australian)\": \"en-AU-Wavenet-A\",\n    \"Steve (English, Australian)\": \"en-AU-Wavenet-B\",\n    \"Courtney (English, Australian)\": \"en-AU-Wavenet-C\",\n    \"Jayden (English, Australian)\": \"en-AU-Wavenet-D\",\n    \"Ashleigh (English, Australian)\": \"en-AU-Standard-C\",\n    \"Daniel (English, Australian)\": \"en-AU-Standard-D\",\n    \"Anushri (English, Indian)\": \"en-IN-Wavenet-A\",\n    \"Sundar (English, Indian)\": \"en-IN-Wavenet-B\",\n    \"Satya (English, Indian)\": \"en-IN-Wavenet-C\",\n    \"Sonya (Afrikaans)\": \"af-ZA-Standard-A\",\n    \"Aisha (Arabic)\": \"ar-XA-Wavenet-A\",\n    \"Ahmad 1 (Arabic)\": \"ar-XA-Wavenet-B\",\n    \"Ahmad 2 (Arabic)\": \"ar-XA-Wavenet-C\",\n    \"Nikolina (Bulgarian)\": \"bg-bg-Standard-A\",\n    \"Li Na (Chinese, Mandarin)\": \"cmn-CN-Wavenet-A\",\n    \"Wang (Chinese, Mandarin)\": \"cmn-CN-Wavenet-B\",\n    \"Bai (Chinese, Mandarin)\": \"cmn-CN-Wavenet-C\",\n    \"Mingli (Chinese, Mandarin)\": \"cmn-CN-Wavenet-D\",\n    \"Silvia (Czech)\": \"cs-CZ-Wavenet-A\",\n    \"Marie (Danish)\": \"da-DK-Wavenet-A\",\n    \"Annemieke (Dutch)\": \"nl-NL-Standard-A\",\n    \"Eva (Dutch)\": \"nl-NL-Wavenet-A\",\n    \"Lars (Dutch)\": \"nl-NL-Wavenet-B\",\n    \"Marc (Dutch)\": \"nl-NL-Wavenet-C\",\n    \"Verona (Dutch)\": \"nl-NL-Wavenet-D\",\n    \"Lotte (Wavenet) (Dutch)\": \"nl-NL-Wavenet-E\",\n    \"Tala (Filipino (Tagalog))\": \"fil-PH-Wavenet-A\",\n    \"Marianne (Finnish)\": \"fi-FI-Wavenet-A\",\n    \"Yvonne (French)\": \"fr-FR-Standard-C\",\n    \"Gaspard (French)\": \"fr-FR-Standard-D\",\n    \"Emilie (French)\": \"fr-FR-Wavenet-A\",\n    \"Marcel (French)\": \"fr-FR-Wavenet-B\",\n    \"Brigitte (French)\": \"fr-FR-Wavenet-C\",\n    \"Simon (French)\": \"fr-FR-Wavenet-D\",\n    \"Juliette (French, Canadian)\": \"fr-CA-Standard-A\",\n    \"Felix (French, Canadian)\": \"fr-CA-Standard-B\",\n    \"Camille (French, Canadian)\": \"fr-CA-Standard-C\",\n    \"Jacques (French, Canadian)\": \"fr-CA-Standard-D\",\n    \"Karolina (German)\": \"de-DE-Standard-A\",\n    \"Albert (German)\": \"de-DE-Standard-B\",\n    \"Angelika (German)\": \"de-DE-Wavenet-A\",\n    \"Oskar (German)\": \"de-DE-Wavenet-B\",\n    \"Nina (German)\": \"de-DE-Wavenet-C\",\n    \"Sebastian (German)\": \"de-DE-Wavenet-D\",\n    \"Thalia (Greek)\": \"el-GR-Wavenet-A\",\n    \"Sneha (Hindi)\": \"hi-IN-Wavenet-A\",\n    \"Arnav (Hindi)\": \"hi-IN-Wavenet-B\",\n    \"Aadhav (Hindi)\": \"hi-IN-Wavenet-C\",\n    \"Ishtevan (Hungarian)\": \"hu-HU-Wavenet-A\",\n    \"Helga (Icelandic)\": \"is-is-Standard-A\",\n    \"Anisa (Indonesian)\": \"id-ID-Wavenet-A\",\n    \"Budi (Indonesian)\": \"id-ID-Wavenet-B\",\n    \"Bayu (Indonesian)\": \"id-ID-Wavenet-C\",\n    \"Gianna (Italian)\": \"it-IT-Standard-A\",\n    \"Valentina (Italian)\": \"it-IT-Wavenet-A\",\n    \"Stella (Italian)\": \"it-IT-Wavenet-B\",\n    \"Alessandro (Italian)\": \"it-IT-Wavenet-C\",\n    \"Luca (Italian)\": \"it-IT-Wavenet-D\",\n    \"Koharu (Japanese)\": \"ja-JP-Standard-A\",\n    \"Miho (Japanese)\": \"ja-JP-Wavenet-A\",\n    \"Eiko (Japanese)\": \"ja-JP-Wavenet-B\",\n    \"Haruto (Japanese)\": \"ja-JP-Wavenet-C\",\n    \"Eichi (Japanese)\": \"ja-JP-Wavenet-D\",\n    \"Heosu (Korean)\": \"ko-KR-Standard-A\",\n    \"Grace (Korean)\": \"ko-KR-Wavenet-A\",\n    \"Juris (Latvian)\": \"lv-lv-Standard-A\",\n    \"Nora (Norwegian, Bokmål)\": \"nb-no-Wavenet-E\",\n    \"Malena (Norwegian, Bokmål)\": \"nb-no-Wavenet-A\",\n    \"Jacob (Norwegian, Bokmål)\": \"nb-no-Wavenet-B\",\n    \"Thea (Norwegian, Bokmål)\": \"nb-no-Wavenet-C\",\n    \"Aksel (Norwegian, Bokmål)\": \"nb-no-Wavenet-D\",\n    \"Amelia (Polish)\": \"pl-PL-Wavenet-A\",\n    \"Stanislaw (Polish)\": \"pl-PL-Wavenet-B\",\n    \"Tomasz (Polish)\": \"pl-PL-Wavenet-C\",\n    \"Klaudia (Polish)\": \"pl-PL-Wavenet-D\",\n    \"Beatriz (Portuguese, Portugal)\": \"pt-PT-Wavenet-A\",\n    \"Francisco (Portuguese, Portugal)\": \"pt-PT-Wavenet-B\",\n    \"Lucas (Portuguese, Portugal)\": \"pt-PT-Wavenet-C\",\n    \"Carolina (Portuguese, Portugal)\": \"pt-PT-Wavenet-D\",\n    \"Alice (Portuguese, Brazilian)\": \"pt-BR-Standard-A\",\n    \"Маша (Masha) (Russian)\": \"ru-RU-Wavenet-A\",\n    \"Илья (Ilya) (Russian)\": \"ru-RU-Wavenet-B\",\n    \"Алёна (Alena) (Russian)\": \"ru-RU-Wavenet-C\",\n    \"Пётр (Petr) (Russian)\": \"ru-RU-Wavenet-D\",\n    \"Aleksandra (Serbian)\": \"sr-rs-Standard-A\",\n    \"Eliska (Slovak)\": \"sk-SK-Wavenet-A\",\n    \"Rosalinda (Spanish, Castilian)\": \"es-ES-Standard-A\",\n    \"Elsa (Swedish)\": \"sv-SE-Standard-A\",\n    \"Zehra (Turkish)\": \"tr-TR-Standard-A\",\n    \"Yagmur (Turkish)\": \"tr-TR-Wavenet-A\",\n    \"Mehmet (Turkish)\": \"tr-TR-Wavenet-B\",\n    \"Miray (Turkish)\": \"tr-TR-Wavenet-C\",\n    \"Elif (Turkish)\": \"tr-TR-Wavenet-D\",\n    \"Enes (Turkish)\": \"tr-TR-Wavenet-E\",\n    \"Vladislava (Ukrainian)\": \"uk-UA-Wavenet-A\",\n    \"Linh (Vietnamese)\": \"vi-VN-Wavenet-A\",\n    \"Nguyen (Vietnamese)\": \"vi-VN-Wavenet-B\",\n    \"Phuong (Vietnamese)\": \"vi-VN-Wavenet-C\",\n    \"Viet (Vietnamese)\": \"vi-VN-Wavenet-D\",\n    \"Linda (English, Canadian)\": \"Linda\",\n    \"Heather (English, Canadian)\": \"Heather\",\n    \"Sean (English, Irish)\": \"Sean\",\n    \"Hoda (Arabic, Egypt)\": \"Hoda\",\n    \"Naayf (Arabic, Saudi Arabia)\": \"Naayf\",\n    \"Ivan (Bulgarian)\": \"Ivan\",\n    \"Herena (Catalan)\": \"Herena\",\n    \"Tracy (Chinese, Cantonese, Traditional)\": \"Tracy\",\n    \"Danny (Chinese, Cantonese, Traditional)\": \"Danny\",\n    \"Huihui (Chinese, Mandarin, Simplified)\": \"Huihui\",\n    \"Yaoyao (Chinese, Mandarin, Simplified)\": \"Yaoyao\",\n    \"Kangkang (Chinese, Mandarin, Simplified)\": \"Kangkang\",\n    \"HanHan (Chinese, Taiwanese, Traditional)\": \"HanHan\",\n    \"Zhiwei (Chinese, Taiwanese, Traditional)\": \"Zhiwei\",\n    \"Matej (Croatian)\": \"Matej\",\n    \"Jakub (Czech)\": \"Jakub\",\n    \"Guillaume (French, Switzerland)\": \"Guillaume\",\n    \"Michael (German, Austria)\": \"Michael\",\n    \"Karsten (German, Switzerland)\": \"Karsten\",\n    \"Stefanos (Greek)\": \"Stefanos\",\n    \"Szabolcs (Hungarian)\": \"Szabolcs\",\n    \"Andika (Indonesian)\": \"Andika\",\n    \"Heidi (Finnish)\": \"Heidi\",\n    \"Kalpana (Hindi)\": \"Kalpana\",\n    \"Hemant (Hindi)\": \"Hemant\",\n    \"Rizwan (Malay)\": \"Rizwan\",\n    \"Filip (Slovak)\": \"Filip\",\n    \"Lado (Slovenian)\": \"Lado\",\n    \"Valluvar (Tamil, India)\": \"Valluvar\",\n    \"Pattara (Thai)\": \"Pattara\",\n    \"An (Vietnamese)\": \"An\",\n};\nconst VOICE_LIST_ALT = Object.keys(VOICE_LIST).map(k => VOICE_LIST[k]);\nvar voiceSelect = document.createElement('select');\nObject.keys(VOICE_LIST).forEach(function(key) {\n    var option = document.createElement('option');\n    option.text = key;\n    option.value = VOICE_LIST[key];\n    voiceSelect.appendChild(option);\n});\nconsole.log('Voz seleccionada:', voiceSelect.value);\nvoiceSelect.addEventListener('change', function() {\n    fetchAudio(voiceSelect.value);\n});\nlet isReading = false;\nconst MAX_CONCURRENT_MESSAGES = 10;\nlet cache = [];\nlet readMessages = [];\nlet lastText = \"\";\n\nclass Queue {\n    constructor() {\n        this.items = [];\n    }\n\n    enqueue(element) {\n        this.items.push(element);\n    }\n\n    dequeue() {\n        if (this.isEmpty()) {\n            return \"Underflow\";\n        }\n        return this.items.shift();\n    }\n\n    isEmpty() {\n        return this.items.length === 0;\n    }\n}\n\nfunction cacheMessage(text) {\n    if (text.length >= 3 && text.length <= 400 && text !== lastText) {\n        cache.push(text);\n        lastText = text;\n    }\n    if (cache.length > 15) {\n        cache.shift();\n    }\n}\n\nfunction filtros(text) {\n    if (cache.includes(text) || palabrasSpam.some(word => text.includes(word))) {\n        return false;\n    }\n    cache.push(text);\n    if (cache.length > 15) {\n        cache.shift();\n    }\n    return true;\n}\n\n// Objeto para realizar un seguimiento del número de repeticiones de cada mensaje\nconst messageRepetitions = {};\n\nfunction leerMensajes() {\n    if (cache.length > 0 && !isReading) {\n        const messagesToRead = cache.splice(0, MAX_CONCURRENT_MESSAGES);\n        messagesToRead.forEach(text => {\n            // Verificar si el mensaje ha alcanzado el límite de repeticiones\n            if (messageRepetitions[text] && messageRepetitions[text] >= 2) {\n                // No leer el mensaje si ha alcanzado el límite de repeticiones\n                console.log('Mensaje omitido:', text);\n            } else {\n                fetchAudio(text);\n\n                // Incrementar el número de repeticiones del mensaje\n                messageRepetitions[text] = messageRepetitions[text] ? messageRepetitions[text] + 1 : 1;\n            }\n        });\n    }\n}\n\nasync function fetchAudio(txt, voice) {\n    try {\n        const hasAlphabet = /[a-zA-Z]/.test(txt);\n        let language = '';\n\n        if (hasAlphabet) {\n            language = detectLanguage(txt); // Detectar el idioma del texto\n        } else {\n            // Asignar idioma basado en el tipo de escritura\n            if (/[ぁ-んァ-ン]/.test(txt)) {\n                language = 'Mizuki'; // Japonés\n            } else if (/[가-힣]/.test(txt)) {\n                language = 'Seoyeon'; // Coreano\n            } else {\n                language = voiceSelect.value; // Usar la voz seleccionada por defecto\n            }\n            // Puedes agregar más idiomas y patrones de escritura según tus necesidades\n        }\n\n        const selectedVoice = selectVoice(language);\n        const resp = await fetch(TTS_API_ENDPOINT + makeParameters({ voice: selectedVoice, text: txt }));\n        if (resp.status !== 200) {\n            console.error(\"Mensaje incorrecto\");\n            return;\n        }\n\n        const blob = await resp.blob();\n        const blobUrl = URL.createObjectURL(blob);\n        if (audioqueue) {\n            audioqueue.enqueue(blobUrl);\n            if (!isPlaying) kickstartPlayer();\n        }\n        const index = cache.indexOf(txt);\n        if (index !== -1) {\n            cache.splice(index, 1);\n        }\n\n        // Elimina el mensaje de cache una vez que se ha reproducido\n        const interval = setInterval(() => {\n            if (audio.ended) {\n                clearInterval(interval);\n                URL.revokeObjectURL(blobUrl);\n            }\n        }, 200); // Verifica cada segundo si el audio ha terminado de reproducirse\n\n    } catch (error) {\n        console.error(\"Error:\", error);\n    }\n}\n\nfunction makeParameters(params) {\n    return Object.keys(params)\n        .map(k => encodeURIComponent(k) + '=' + encodeURIComponent(params[k]))\n        .join('&');\n}\n\nfunction skipAudio() {\n    if (audio.paused) return console.error(\"skipped player while paused\");\n    if (audioqueue.isEmpty()) {\n        isPlaying = false;\n        audio.pause();\n    } else {\n        isPlaying = true;\n        audio.src = audioqueue.dequeue();\n        audio.load();\n        audio.play();\n        audioqueue.dequeue();\n        readMessages.shift();\n    }\n}\n\nfunction kickstartPlayer() {\n    if (audioqueue.isEmpty()) return isPlaying = false;\n    if (!audio.paused) return console.error(\"started player while running\");\n    isPlaying = true;\n    audio.src = audioqueue.dequeue();\n    audio.load();\n    audio.play();\n    audioqueue.dequeue();\n    readMessages.shift();\n}\n\nwindow.onload = async function() {\n    try {\n        audio = document.getElementById(\"audio\");\n        skip = document.getElementById(\"skip-button\");\n        isPlaying = false;\n        audioqueue = new Queue();\n\n        if (skip) {\n            skip.onclick = skipAudio;\n        } else {\n            console.error(\"Error: skip-button is undefined\");\n        }\n\n        if (audio) {\n            audio.addEventListener(\"ended\", kickstartPlayer);\n        } else {\n            console.error(\"Error: audio is undefined\");\n        }\n\n        setInterval(leerMensajes, 1000); // Llamar a leerMensajes cada segundo\n\n    } catch (error) {\n        console.error(\"Error:\", error);\n    }\n};","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","_regeneratorRuntime","e","t","r","Object","n","hasOwnProperty","defineProperty","value","i","a","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_toPropertyKey","input","hint","prim","toPrimitive","res","String","Number","_defineProperties","target","props","descriptor","_arrayLikeToArray","arr","len","arr2","Array","_createForOfIteratorHelper","allowArrayLike","it","isArray","minLen","toString","from","test","F","_e","normalCompletion","didErr","step","_e2","backendUrl","location","protocol","connection","TikTokIOConnection","viewerCount","document","getElementById","likeCount","diamondsCount","previousLikeCount","connect","uniqueId","window","settings","username","$","val","text","enableExtendedGiftInfo","state","concat","roomId","updateRoomStats","catch","errorMessage","setTimeout","alert","html","toLocaleString","generateUsernameLink","data","isPendingStreak","giftType","repeatEnd","addChatItem","color","summarize","container","href","includes","find","remove","append","profilePictureUrl","replace","sanitize","startsWithSpecialChar","messagePrefix","messageSuffix","cleanedText","enviarMensaje","animate","scrollTop","scrollHeight","leerMensajes","lastText","cache","shift","cacheMessage","ready","click","on","downloadedGifts","Set","addGiftItem","streakId","userId","giftId","giftName","giftPictureUrl","repeatCount","diamondCount","existingStreakItem","replaceWith","url","filename","giftImageFilename","has","fetch","response","blob","URL","createObjectURL","createElement","download","revokeObjectURL","add","console","msg","totalLikeCount","joinMsgDelay","showJoins","addDelay","showChats","comment","showGifts","log","showFollows","displayType","label","audio","audioqueue","isPlaying","skip","mensajes","lastComment","lastCommentTime","filterTime","palabrasSpam","message","lowerCaseMessage","toLowerCase","currentTime","Date","now","_step","_iterator","palabra","contienePalabrasSpam","chat_message","headers","body","JSON","stringify","ok","Platform","SendAsStreamer","Message","TTS_API_ENDPOINT","VOICE_LIST","voiceSelect","map","k","option","appendChild","addEventListener","fetchAudio","isReading","MAX_CONCURRENT_MESSAGES","readMessages","Queue","instance","Constructor","_classCallCheck","items","protoProps","staticProps","element","isEmpty","messageRepetitions","splice","_x","_x2","_fetchAudio","_callee2","txt","voice","hasAlphabet","language","selectedVoice","resp","blobUrl","index","interval","_context2","detectLanguage","selectVoice","makeParameters","status","enqueue","kickstartPlayer","indexOf","setInterval","ended","clearInterval","t0","params","encodeURIComponent","join","skipAudio","paused","pause","src","dequeue","load","play","onload","_callee","_context","onclick"],"sourceRoot":""}